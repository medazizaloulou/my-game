<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ù†Ù‚Ø± Ø§Ù„Ø³Ø±ÙŠØ¹</title>

<style>
body {
  font-family: Arial;
  text-align: center;
  background: #f2f2f2;
}

#box {
  width: 80px;
  height: 80px;
  background: red;
  position: absolute;
  display: none;
  cursor: pointer;
  border-radius: 10px;
}

button {
  margin: 5px;
  padding: 10px 20px;
  font-size: 16px;
  cursor: pointer;
}

#timeBarContainer {
  width: 80%;
  height: 20px;
  background: #ddd;
  margin: 10px auto;
  border-radius: 10px;
}

#timeBar {
  height: 100%;
  width: 100%;
  background: red;
  border-radius: 10px;
}
</style>
</head>

<body>

<h1>ğŸ® Ø§Ù„Ø¹Ø¨ ÙÙˆØ±Ù‹Ø§</h1>
<p id="score">Ø§Ù„Ù†Ù‚Ø§Ø·: 0</p>
<p id="timer">Ø§Ù„ÙˆÙ‚Øª: 30</p>

<div id="timeBarContainer">
  <div id="timeBar"></div>
</div>

<button id="startBtn">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
<button id="restartBtn" style="display:none;">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨</button>

<div id="box"></div>

<script>
let score = 0;
let speed = 1000;
let box = document.getElementById("box");
let timeLeft = 30;
let totalTime = 30;
let timerInterval;
let gameRunning = false;
let timeBar = document.getElementById("timeBar");

function startGame() {
  score = 0;
  speed = 1000;
  timeLeft = totalTime;
  gameRunning = true;

  document.getElementById("score").innerText = "Ø§Ù„Ù†Ù‚Ø§Ø·: 0";
  document.getElementById("timer").innerText = "Ø§Ù„ÙˆÙ‚Øª: " + timeLeft;
  timeBar.style.width = "100%";

  document.getElementById("startBtn").style.display = "none";
  document.getElementById("restartBtn").style.display = "inline-block";

  clearInterval(timerInterval);

  timerInterval = setInterval(() => {
    if (!gameRunning) return;
    timeLeft--;
    document.getElementById("timer").innerText = "Ø§Ù„ÙˆÙ‚Øª: " + timeLeft;
    timeBar.style.width = (timeLeft / totalTime * 100) + "%";
    if (timeLeft <= 0) {
      endGame();
    }
  }, 1000);

  showBox();
}

function endGame() {
  gameRunning = false;
  gameRunning = false;
  box.style.display = "none";
  clearInterval(timerInterval);
  alert("Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª! Ù†Ù‚Ø§Ø·Ùƒ: " + score);
}

function showBox() {
  if (!gameRunning) return;

  let x = Math.random() * (window.innerWidth - 100);
  let y = Math.random() * (window.innerHeight - 100);

  box.style.left = x + "px";
  box.style.top = y + "px";
  box.style.display = "block";

  setTimeout(() => {
    box.style.display = "none";
    speed -= 0.95;
    if (speed < 500) speed = 500;
    showBox();
  }, speed);
}

box.onclick = function () {
  if (!gameRunning) return;
  score++;
  document.getElementById("score").innerText = "Ø§Ù„Ù†Ù‚Ø§Ø·: " + score;
};

document.getElementById("startBtn").onclick = startGame;
document.getElementById("restartBtn").onclick = startGame;
</script>

</body>
</html>